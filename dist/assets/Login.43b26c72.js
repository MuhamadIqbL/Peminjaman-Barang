import{p as v,m as k,g as x,r as _,u as C,c as s,f as F,_ as P,o as j,a as R,w as l,V as U,b as f,d as L,e as c,h as p,i as w,j as B,k as D,l as T}from"./index.773df6ec.js";import{m as A,c as N,V as S,a as V,b as q}from"./VTextField.f6c847e2.js";const z=v({...k(),...A()},"v-form"),E=x()({name:"VForm",props:z(),emits:{"update:modelValue":o=>!0,submit:o=>!0},setup(o,t){let{slots:u,emit:n}=t;const e=N(o),r=_();function a(i){i.preventDefault(),e.reset()}function g(i){const m=i,d=e.validate();m.then=d.then.bind(d),m.catch=d.catch.bind(d),m.finally=d.finally.bind(d),n("submit",m),m.defaultPrevented||d.then(y=>{var h;let{valid:b}=y;b&&((h=r.value)==null||h.submit())}),m.preventDefault()}return C(()=>{var i;return s("form",{ref:r,class:["v-form",o.class],style:o.style,novalidate:!0,onReset:a,onSubmit:g},[(i=u.default)==null?void 0:i.call(u,e)])}),F(e,r)}}),G={name:"App",data(){return{dialog:!1,isvalid:!1,showPassword:!1,usernameRules:[o=>o!=""||"Username is required"],passwordRules:[o=>o!=""||"Password is required"],username:"",password:"",uname:null,pass:null,err:null}},methods:{handleclick(){this.showPassword=!this.showPassword},Login(){const o=this.username,t=this.password;this.uname;const u=this.pass;fetch("http://localhost:3000/admin/?username="+o).then(n=>n.json()).then(n=>{const e=n[0];this.uname=e.username,fetch("http://localhost:3000/operator/?password="+t).then(r=>r.json()).then(r=>{const a=r[0];this.pass=a.password,t==u&&this.$router.push("/Dashboard")}).catch(r=>{this.err=r,this.dialog=!0})}).catch(n=>{this.err=n,this.dialog=!0})}}},I=T("div",{class:""},"Username/Password Salah",-1);function H(o,t,u,n,e,r){return j(),R(U,{style:{"background-color":"#fffffe"}},{default:l(()=>[s(p,{class:"d-flex justify-center mt-16"},{default:l(()=>[s(f,{width:"400",height:"auto",style:{"background-color":"#6246ea"},class:"rounded-xl",flat:""},{default:l(()=>[s(S,{class:"d-flex justify-center"},{default:l(()=>[s(E,{modelValue:e.isvalid,"onUpdate:modelValue":t[3]||(t[3]=a=>e.isvalid=a)},{default:l(()=>[s(f,{flat:"",style:{"background-color":"#6246ea"},class:"ml-3 rounded-lg d-flex justify-center",width:"250"},{default:l(()=>[s(L,{style:{color:"#2b2c34"},size:"130"},{default:l(()=>[c("mdi-account")]),_:1})]),_:1}),s(f,{tile:"",elevation:"5",class:"ml-4 mt-5 rounded-lg d-flex justify-center",width:"250"},{default:l(()=>[s(V,{class:"ml-3 mr-3",rules:e.usernameRules,"prepend-icon":"mdi-account",modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=a=>e.username=a)},null,8,["rules","modelValue"])]),_:1}),s(f,{tile:"",elevation:"5",class:"ml-4 mt-5 rounded-lg d-flex justify-center",width:"250"},{default:l(()=>[s(V,{class:"ml-3 mr-3",rules:e.passwordRules,type:e.showPassword?"text":"password","prepend-icon":e.showPassword?"mdi-eye":"mdi-eye-off","onClick:prepend":r.handleclick,modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=a=>e.password=a)},null,8,["rules","type","prepend-icon","onClick:prepend","modelValue"])]),_:1}),s(p,{class:"ml-2 mb-2 mt-4"},{default:l(()=>[s(w,{color:"#FFFFFE",style:{"background-color":"#58e45e"},onClick:t[2]||(t[2]=a=>r.Login()),width:"250"},{default:l(()=>[c("Login")]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(q,{modelValue:e.dialog,"onUpdate:modelValue":t[5]||(t[5]=a=>e.dialog=a),width:"auto"},{default:l(()=>[s(f,{class:"ml-2"},{default:l(()=>[s(B,{color:"error",title:"Login Gagal"}),s(D,null,{default:l(()=>[I]),_:1}),s(p,{class:"justify-end"},{default:l(()=>[s(w,{variant:"text",onClick:t[4]||(t[4]=a=>e.dialog=!1)},{default:l(()=>[c("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}const M=P(G,[["render",H]]);export{M as default};
