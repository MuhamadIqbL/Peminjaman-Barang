import{_ as k,o as c,a as V,w as m,c as n,b as i,l as o,ar as _,as as y,a5 as x,h as w,at as E,i as u,e as p,aq as r}from"./index.773df6ec.js";import{V as A,a as f,b as h}from"./VTextField.f6c847e2.js";import{V as U}from"./VTable.d66a8581.js";import{V as b}from"./VSelect.aaaa18bc.js";const v={data(){return{dialog2:!1,EditAddOk:!1,EditAddGagal:!1,pengembalian:null,item_barang:null,item_operator:null,form:{id:"",nama_brg:"",nama_operator:"",nama_peminjam:"",kelas_peminjam:"",jurusan_peminjam:"",tanggal_pinjam:"",tanggal_kembali:""}}},mounted(){this.GetData()},methods:{GetData(){fetch("http://localhost:3000/pengembalian").then(e=>e.json()).then(e=>{this.pengembalian=e}).catch(e=>{console.error(e)}),fetch("http://localhost:3000/barang").then(e=>e.json()).then(e=>{this.item_barang=e}).catch(e=>{console.error(e)}),fetch("http://localhost:3000/operator").then(e=>e.json()).then(e=>{this.item_operator=e}).catch(e=>{console.error(e)})},GetDataId(e){this.dialog2=!0,this.form.id=e.id,this.form.nama_brg=e.nama_brg,this.form.nama_operator=e.nama_operator,this.form.nama_peminjam=e.nama_peminjam,this.form.kelas_peminjam=e.kelas_peminjam,this.form.jurusan_peminjam=e.jurusan_peminjam,this.form.tanggal_pinjam=e.tanggal_pinjam,this.form.tanggal_kembali=e.tanggal_kembali},Update(e){const a=new Headers;a.append("Content-Type","application/x-www-form-urlencoded");const s=new URLSearchParams;s.append("nama_brg",e.nama_brg),s.append("nama_operator",e.nama_operator),s.append("nama_peminjam",e.nama_peminjam),s.append("kelas_peminjam",e.kelas_peminjam),s.append("jurusan_peminjam",e.jurusan_peminjam),s.append("tanggal_pinjam",e.tanggal_pinjam),s.append("tanggal_kembali",e.tanggal_kembali);const d={method:"PUT",headers:a,body:s};fetch("http://localhost:3000/pengembalian/"+e.id,d).then(t=>{console.log(t.statusText),this.EditAddOk=!0,this.GetData()}).catch(t=>{this.EditAddGagal=!0,console.error(t)})},Delete(e){const a=this.form.id=e.id,s={method:"DELETE"};fetch("http://localhost:3000/pengembalian/"+a,s).then(d=>{console.log(d.statusText),this.GetData(),this.EditAddOk=!0}).catch(d=>{console.error(d),this.EditAddGagal=!0})}}},P=o("h2",{class:"mt-2"},"Data Pengembalian",-1),C=o("thead",null,[o("tr",null,[o("th",{class:"text-left",style:{"background-color":"#6246ea"}},"No"),o("th",{class:"text-left",style:{"background-color":"#6246ea"}}," Nama Barang "),o("th",{class:"text-left",style:{"background-color":"#6246ea"}}," Nama Operator "),o("th",{class:"text-left",style:{"background-color":"#6246ea"}}," Nama Peminjam "),o("th",{class:"text-left",style:{"background-color":"#6246ea"}}," Kelas Peminjam "),o("th",{class:"text-left",style:{"background-color":"#6246ea"}}," Jurusan Peminjam "),o("th",{class:"text-left",style:{"background-color":"#6246ea"}}," Tanggal Peminjam "),o("th",{class:"text-left",style:{"background-color":"#6246ea"}}," Tanggal Kembali "),o("th",{class:"text-left",style:{"background-color":"#6246ea"}},"Opsi")])],-1),D=o("h2",null,"Edit Pengembalian",-1);function T(e,a,s,d,t,g){return c(),V(A,{style:{"background-color":"#fffffe"}},{default:m(()=>[P,n(i,{class:"d-flex justify-end mb-2",flat:"",tile:"",style:{"background-color":"#fffffe"}}),n(i,null,{default:m(()=>[n(U,{"fixed-header":"",height:"485",style:{"background-color":"rgb(196, 200, 253)"}},{default:m(()=>[C,o("tbody",null,[(c(!0),_(x,null,y(t.pengembalian,l=>(c(),_("tr",{key:l.id},[o("td",null,r(l.id),1),o("td",null,r(l.nama_brg),1),o("td",null,r(l.nama_operator),1),o("td",null,r(l.nama_peminjam),1),o("td",null,r(l.kelas_peminjam),1),o("td",null,r(l.jurusan_peminjam),1),o("td",null,r(l.tanggal_pinjam),1),o("td",null,r(l.tanggal_kembali),1),o("td",null,[n(u,{onClick:j=>g.GetDataId(l),color:"#58e45e",style:{color:"#2b2c34"},width:"85",class:"mt-1"},{default:m(()=>[p(" EDIT ")]),_:2},1032,["onClick"]),n(u,{onClick:j=>g.Delete(l),class:"mt-1",color:"#ff3232",style:{color:"#2b2c34"}},{default:m(()=>[p(" HAPUS ")]),_:2},1032,["onClick"])])]))),128))])]),_:1})]),_:1}),n(h,{modelValue:t.dialog2,"onUpdate:modelValue":a[9]||(a[9]=l=>t.dialog2=l),width:"700"},{default:m(()=>[n(i,{flat:"",color:"#6246EA",class:"pa-5 mx-auto",width:"650",height:"auto"},{default:m(()=>[n(w,null,{default:m(()=>[D,n(E)]),_:1}),o("div",null,[n(i,{tile:"",elevation:"4",class:"mt-2 rounded d-flex justify-center",width:"100%"},{default:m(()=>[n(b,{class:"ml-3 mr-3",items:t.item_barang,"item-title":"nama_brg",modelValue:t.form.nama_brg,"onUpdate:modelValue":a[0]||(a[0]=l=>t.form.nama_brg=l),label:"Nama Barang"},null,8,["items","modelValue"])]),_:1}),n(i,{tile:"",elevation:"4",class:"mt-2 rounded d-flex justify-center",width:"100%"},{default:m(()=>[n(b,{class:"ml-3 mr-3",items:t.item_operator,"item-title":"username",modelValue:t.form.nama_operator,"onUpdate:modelValue":a[1]||(a[1]=l=>t.form.nama_operator=l),label:"Nama Operator"},null,8,["items","modelValue"])]),_:1}),n(i,{tile:"",elevation:"4",class:"mt-2 rounded d-flex justify-center",width:"100%"},{default:m(()=>[n(f,{modelValue:t.form.nama_peminjam,"onUpdate:modelValue":a[2]||(a[2]=l=>t.form.nama_peminjam=l),label:"Nama Peminjam",class:"ml-3 mr-3"},null,8,["modelValue"])]),_:1}),n(i,{tile:"",elevation:"4",class:"mt-2 rounded d-flex justify-center",width:"100%"},{default:m(()=>[n(f,{modelValue:t.form.kelas_peminjam,"onUpdate:modelValue":a[3]||(a[3]=l=>t.form.kelas_peminjam=l),label:"Kelas Peminjam",class:"ml-3 mr-3"},null,8,["modelValue"])]),_:1}),n(i,{tile:"",elevation:"4",class:"mt-2 rounded d-flex justify-center",width:"100%"},{default:m(()=>[n(f,{modelValue:t.form.jurusan_peminjam,"onUpdate:modelValue":a[4]||(a[4]=l=>t.form.jurusan_peminjam=l),label:"Jurusan Peminjam",class:"ml-3 mr-3"},null,8,["modelValue"])]),_:1}),n(i,{tile:"",elevation:"4",class:"mt-2 rounded d-flex justify-center",width:"100%"},{default:m(()=>[n(f,{modelValue:t.form.tanggal_pinjam,"onUpdate:modelValue":a[5]||(a[5]=l=>t.form.tanggal_pinjam=l),label:"Tanggal Peminjam",class:"ml-3 mr-3"},null,8,["modelValue"])]),_:1}),n(i,{tile:"",elevation:"4",class:"mt-2 rounded d-flex justify-center",width:"100%"},{default:m(()=>[n(f,{modelValue:t.form.tanggal_kembali,"onUpdate:modelValue":a[6]||(a[6]=l=>t.form.tanggal_kembali=l),label:"Tanggal Kembali",class:"ml-3 mr-3"},null,8,["modelValue"])]),_:1}),n(u,{class:"mt-2",width:"200",type:"submit",color:"#58e45e",style:{color:"#2b2c34"},onClick:a[7]||(a[7]=l=>g.Update(t.form))},{default:m(()=>[p(" Simpan ")]),_:1}),n(u,{class:"mt-2 ml-2",width:"150",color:"#ff3232",style:{color:"#2b2c34"},onClick:a[8]||(a[8]=l=>t.dialog2=!1)},{default:m(()=>[p(" Kembali ")]),_:1})])]),_:1})]),_:1},8,["modelValue"]),n(h,{modelValue:t.EditAddOk,"onUpdate:modelValue":a[11]||(a[11]=l=>t.EditAddOk=l),width:"auto"},{default:m(()=>[n(u,{class:"ma-4",width:"60",height:"60",color:"#58e45e",icon:"mdi-check",onClick:a[10]||(a[10]=l=>(t.EditAddOk=!1,t.dialog2=!1))})]),_:1},8,["modelValue"]),n(h,{modelValue:t.EditAddGagal,"onUpdate:modelValue":a[13]||(a[13]=l=>t.EditAddGagal=l),width:"auto"},{default:m(()=>[n(u,{class:"ma-4",width:"60",height:"60",color:"#ff3232",icon:"mdi-cancel",onClick:a[12]||(a[12]=l=>(t.EditAddGagal=!1,t.dialog2=!1))})]),_:1},8,["modelValue"])]),_:1})}const S=k(v,[["render",T]]);export{S as default};
